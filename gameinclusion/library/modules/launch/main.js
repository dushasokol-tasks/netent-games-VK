/*
 * @netent/game-inclusion 1.3.12
 * Game Inclusion
 *
 * Copyright, NetEnt AB (publ)
 * Website: https://www.netent.com/
*/

var netent_launch_tools=function(){function e(e,n,t){return e+(""===e?"":"&")+n+"="+encodeURIComponent(t)}function n(n){var t="",a="?";return Object.keys(n).reduce(function(a,o){var r=n[o];return"object"==typeof r?Object.keys(r).reduce(function(n,a){return t=e(n,o+"."+a,r[a])},t):t=e(a,o,r),t},t),a+t}function t(e,t){return e+n(t)}function a(e){for(var n="DEMO-",t=0;t<13;t++)n+=Math.floor(10*Math.random());return n+="-"+(e||"EUR")}function o(e){var n=JSON.parse(JSON.stringify(e));return delete n.width,delete n.height,delete n.enforceRatio,delete n.targetElement,delete n.giLocation,delete n.staticServer,n}function r(e,n){var t,a,o,i={};for(t in e)if(e.hasOwnProperty(t))if("object"==typeof e[t]){a=r(e[t],n);for(o in a)a.hasOwnProperty(o)&&(i[n?t+"."+o:o]=a[o])}else i[t]=e[t];return i}return{createUrl:t,createDemoSessionID:a,extractQueryConfig:o,flatten:r}}(),netent_launch=function(){function e(e,n,a){t(e,function(e){var t;"livecasino-games"===e.gameFamily&&"flash"===e.technologyType&&(e.module="livecasino"),t=e.module?e.module:e.technologyType+"_"+e.technologyPresentation,netent_module_handling.addAndLoadWithConfig(t,e,n,a,"/launch")},a)}function n(e){var n=/^(.*?)(_sw)?$/.exec(e.gameId);return e.walletMode&&"mixed"!==e.walletMode.toLowerCase()&&(e.gameId=n[1],"seamlesswallet"===e.walletMode.toLowerCase()&&(e.gameId+="_sw")),delete e.walletMode,n[1]}function t(e,t,o){netent_json_handling.getJson(e.staticServer+"gameinclusion/directory/directory.json",function(r){var i;if(e.gameId=r[e.gameName]||e.gameId,!e.gameId)return void o(4,a,"gameName");e.sessionId=e.sessionId||netent_launch_tools.createDemoSessionID();var c=n(e);return(i=r[c])?(e.casinoBrand&&"default"!==e.casinoBrand?i=i.replace("<casinobrand>",e.casinoBrand):(i=i.replace("<casinobrand>/",""),e.casinoBrand="default"),void netent_json_handling.getJson(e.staticServer+i,function(n){e.language=e.language||"en",n=netent_tools.combine(n,e),n.giLocation=e.giLocation,delete e.giLocation,n.staticServer=e.staticServer,n.gamePath=i.replace(/[^\/]*\.json$/,""),n.gameURL=n.staticServer+n.gamePath+n.relativeLoaderUrl.replace("<language>",e.language),n.operatorConfiguration=netent_tools.combine({},e),t(n)},o)):void o(4,a,"gameId")},o)}var a="launch_module",o=["gameServerURL","staticServer","gameId||gameName"];return{init:e,essentialParameters:o,setWalletMode:n}}();