/*
 * @netent/game-inclusion 1.3.12
 * Game Inclusion
 *
 * Copyright, NetEnt AB (publ)
 * Website: https://www.netent.com/
*/

var netent_post_form=function(){function t(t,n,e){try{var o=r(t,n);netent_post_form.submit(o)}catch(a){e(a)}}function n(t){t.submit()}function e(t,n,e){var o=document.createElement("input");o.type="hidden",o.name=t,o.value=n,e.appendChild(o)}function o(t,n){n=netent_launch_tools.flatten(n,!0),Object.keys(n).forEach(function(o){e(o,n[o],t)})}function r(t,n){var e=document.createElement("form");e.setAttribute("action",t),o(e,n);var r=document.createElement("input");return r.type="submit",r.value="Submit me",e.appendChild(r),e.method="POST",e.style.display="none",document.body.appendChild(e),e}return{post:t,submit:n}}(),netent_html_redirect=function(){function t(){m.forEach(function(t){s?t.yes():t.no()}),m.length=0}function n(n){s=n,f=!0,t()}function e(){n(!0)}function o(){n(!1)}function r(t,n,r){m.push({yes:n,no:r}),netent_tools.loadScript(t+"game/gameLauncher.js",e,o)}function a(t,n,e){return function(){try{n.sessId=n.sessid;var o=netent_launch_tools.createUrl(t,n);netent_html_redirect.windowLocation(o)}catch(r){e(r)}}}function i(t){window.location=t}function c(t){var n=[{from:"gameServerURL",to:"server"},{from:"language",to:"lang"},{from:"sessionId",to:"sessid"},{from:"casinoBrand",to:"operatorId"}];if(t.hasOwnProperty("mobileParams")){var e=t.mobileParams;Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])})}delete t.mobileParams,n.forEach(function(n){t.hasOwnProperty(n.from)&&(t[n.to]=t[n.from]),delete t[n.from]})}function u(t,n,e){s=void 0,f=!1,m=[],c(t.operatorConfiguration),t.operatorConfiguration.gameURL=t.gameURL;try{var o=t.operatorConfiguration.server+"mobile-game-launcher/GameLauncher",i=netent_launch_tools.extractQueryConfig(t.operatorConfiguration);r(t.gameServerURL,function(){netent_post_form.post(o,i,e)},a(t.gameURL,i,e))}catch(u){console.dir(u),e(u)}}var s,f=!1,m=[];return{init:u,windowLocation:i}}();